imports:
    - php

filter:
    excluded_paths: [vendor1/*, tests/*]

build:
    image: default-bionic

    dependencies:
        override:
            - true
    nodes:
        tests:
            environment:
                php:
                    # version: 8.1.13
                    # version: 8.1.17
                    version: 8.2.4
                    ini:
                        xdebug.mode: coverage
        analysis:
            tests:
                override:
                    - php-scrutinizer-run
                    - command: phpcs-run
    tests:
        override:
              - command: "XDEBUG_MODE=coverage vendor1/bin/phpunit --coverage-clover=coverage.clover"
                coverage:
                    file: "build/coverage.clover"
                    format: "php-clover"
tools:
    php_code_coverage: true
